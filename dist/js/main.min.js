"use strict";var hamburgerLink=document.querySelector(".hamburger__link"),hamburgerClose=document.querySelector(".hamburger__close"),hamburgerMenu=document.querySelector(".hamburger");hamburgerLink.addEventListener("click",function(){hamburgerMenu.style.display="flex",$(".hamburger").addClass("hamburger__active")}),hamburgerClose.addEventListener("click",function(){hamburgerMenu.style.display="none",$(".hamburger").removeClass("hamburger__active")}),$(".hamb").on("click",function(){$(".hamburger").css("display","none"),$(".hamburger").removeClass("hamburger__active")});var dropdownLink=document.querySelector(".slider__pic-up"),sliderDropdown=document.querySelector(".slider__dropdown");dropdownLink.addEventListener("click",function(e){e.preventDefault()}),dropdownLink.addEventListener("mouseover",function(e){sliderDropdown.style.left="100%",sliderDropdown.style.opacity="1",dropdownLink.style.backgroundColor="#e35028"}),dropdownLink.addEventListener("mouseout",function(e){sliderDropdown.style.left="9999px",sliderDropdown.style.opacity="0",dropdownLink.style.backgroundColor="#f08c33"}),$(document).ready(function(){var e=$(".menu__close"),i=$(".menu__item"),t=$(".menu"),n=$(".menu__pic");n.on("click",function(e){e.preventDefault(),$(this).closest(i).toggleClass("menu__item--active"),n.not(this).closest(i).removeClass("menu__item--active")}),e.on("click",function(){$(this).closest(i).removeClass("menu__item--active")}),t.on("click",function(e){if(e.preventDefault(),!e.target.closest(".menu__accordeon"))for(var t=0;t<i.length;t++)i[t].classList.remove("menu__item--active")})}),$(document).ready(function(){var i=$(".team__item"),e=$(".team"),t=$(".team__link");t.on("click",function(e){e.preventDefault(),$(this).closest(i).toggleClass("team__item--active"),t.not(this).closest(i).removeClass("team__item--active")}),e.on("click",function(e){if(e.preventDefault(),!e.target.closest(".team__accordeon"))for(var t=0;t<i.length;t++)i[t].classList.remove("team__item--active")})});var delPhone=document.querySelector(".delivery__phone");delPhone.addEventListener("keydown",function(e){var t=!1,i=!1,n=!1,o=!1;(0<=e.key||e.key<=9)&&(t=!0),"-"==e.key&&(i=!0),"ArrowLeft"!=e.key&&"ArrowRight"!=e.key||(n=!0),"Backspace"==e.key&&(o=!0),t||i||n||o||e.preventDefault()});var delForm=document.querySelector(".delivery__content"),sendBtn=document.querySelector(".delivery__button");function validateForm(e){var t=!0;return validateField(e.elements.name)||(t=!1),validateField(e.elements.phone)||(t=!1),validateField(e.elements.street)||(t=!1),validateField(e.elements.house)||(t=!1),validateField(e.elements.corp)||(t=!1),validateField(e.elements.appart)||(t=!1),validateField(e.elements.floor)||(t=!1),validateField(e.elements.comment)||(t=!1),t}function validateField(e){return e.nextElementSibling.textContent=e.validationMessage,e.checkValidity()}sendBtn.addEventListener("click",function(e){if(e.preventDefault(),validateForm(delForm)){var t=new FormData,i=document.querySelector(".modal"),n=document.querySelector(".modal__button"),o=document.querySelector(".modal__text");t.append("name",delForm.elements.name.value),t.append("phone",delForm.elements.phone.value),t.append("comment",delForm.elements.comment.value),t.append("to","mail@mail.com"),n.addEventListener("click",function(){i.style.display="none",document.body.style.overflow="auto",$(".modal").removeClass("modal__active")});var a=new XMLHttpRequest;a.responseType="json",a.open("POST","https://webdev-api.loftschool.com/sendmail"),a.send(t),a.addEventListener("load",function(){a.status?(i.style.display="flex",o.textContent="Сообщение отправлено",sendBtn.disabled=!0,$(".modal").addClass("modal__active")):(i.style.display="flex",o.textContent="Произошла ошибка",$(".modal").addClass("modal__active"),setTimeout(function(){sendBtn.disabled=!1},1e4))})}});var revBtn=$(".reviews__button"),popClose=$(".popup__close"),popup=$(".popup");$(document).ready(function(){popClose.on("click",function(){popup.animate({opacity:"0"},500),setTimeout(function(){popup.css("display","none")},500),$(".popup").removeClass("popup__active")}),revBtn.first().on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").first().text(),i=$(".reviews__desc").first().text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.last().on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").last().text(),i=$(".reviews__desc").last().text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.eq(1).on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").eq(1).text(),i=$(".reviews__desc").eq(1).text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.eq(2).on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").eq(2).text(),i=$(".reviews__desc").eq(2).text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.eq(3).on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").eq(3).text(),i=$(".reviews__desc").eq(3).text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.eq(4).on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").eq(4).text(),i=$(".reviews__desc").eq(4).text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.eq(5).on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").eq(5).text(),i=$(".reviews__desc").eq(5).text();$(".popup__title").text(t),$(".popup__desc").text(i)}),revBtn.eq(6).on("click",function(e){e.preventDefault(),popup.css("display","flex"),popup.animate({opacity:".92"},500),$(".popup").addClass("popup__active");var t=$(".reviews__title").eq(6).text(),i=$(".reviews__desc").eq(6).text();$(".popup__title").text(t),$(".popup__desc").text(i)})});var prev=document.querySelector(".slider__prev"),next=document.querySelector(".slider__next"),sliderList=document.querySelector(".slider__list"),sliderContent=document.querySelectorAll(".slider__content");sliderList.style.width=100*sliderContent.length+"%";var step=100,minRight=0,maxRight=step*(sliderContent.length-1),currentRight=0;sliderList.style.right=currentRight,prev.addEventListener("click",function(e){e.preventDefault(),minRight<currentRight?currentRight-=step:currentRight=maxRight,sliderList.style.right=currentRight+"%"}),next.addEventListener("click",function(e){e.preventDefault(),currentRight<maxRight?currentRight+=step:currentRight=minRight,sliderList.style.right=currentRight+"%"});var sections=$(".section"),display=$(".maincontent"),inScroll=!1,performTransition=function(e){if(!1===inScroll){inScroll=!0;var t=-100*e;sections.eq(e).addClass("active").siblings().removeClass("active"),display.css({transform:"translateY(".concat(t,"%)")}),display.on("transitionend",function(){inScroll=!1,$(".pagination__item").eq(e).addClass("pagination__item--active").siblings().removeClass("pagination__item--active")})}},scrollToSection=function(e){if(!$(".hamburger").hasClass("hamburger__active")&&!$(".modal").hasClass("modal__active")&&!$(".popup").hasClass("popup__active")){var t=sections.filter(".active"),i=t.next(),n=t.prev();"next"===e&&i.length&&performTransition(i.index()),"prev"===e&&n.length&&performTransition(n.index())}};$(window).on("wheel",function(e){var t=e.originalEvent.deltaY;0<t&&scrollToSection("next"),t<0&&scrollToSection("prev")}),$(window).on("keydown",function(e){var t=e.target.tagName.toLowerCase();if("input"!=t&&"textarea"!=t)switch(e.keyCode){case 38:scrollToSection("prev");case 40:scrollToSection("next")}}),$("[data-scroll-to]").on("click",function(e){e.preventDefault();var t=$(e.currentTarget).attr("data-scroll-to");hamburgerMenu.style.display="none",document.body.style.overflow="auto",performTransition(t)}),$(document).width()<=460&&$("body").swipe({swipe:function(e,t){scrollToSection("up"===t?"next":"prev")}}),ymaps.ready(function(){var e=new ymaps.Map("mapApi",{center:[59.931025,30.360796],zoom:13},{searchControlProvider:"yandex#search"}),t=new ymaps.Placemark(e.getCenter(),{hintContent:"Здесь вкусные бургеры"},{iconLayout:"default#image",iconImageHref:"/img/svg/map-marker.svg",iconImageSize:[46,58]}),i=new ymaps.Placemark([59.934083,30.332816],{hintContent:"Приход к нам"},{iconLayout:"default#image",iconImageHref:"/img/svg/map-marker.svg",iconImageSize:[46,58]}),n=new ymaps.Placemark([59.93994,30.349896],{hintContent:"Мммм, пальчики оближешь!"},{iconLayout:"default#image",iconImageHref:"/img/svg/map-marker.svg",iconImageSize:[46,58]}),o=new ymaps.Placemark([59.94429,30.385172],{hintContent:"У нас вкусно!"},{iconLayout:"default#image",iconImageHref:"/img/svg/map-marker.svg",iconImageSize:[46,58]}),a=new ymaps.Placemark([59.921158,30.37307],{hintContent:"Хочешь сочный бургер?"},{iconLayout:"default#image",iconImageHref:"/img/svg/map-marker.svg",iconImageSize:[46,58]}),r=new ymaps.Placemark([59.91976,30.339566],{hintContent:"Приходи, мы вкусно накормим!"},{iconLayout:"default#image",iconImageHref:"/img/svg/map-marker.svg",iconImageSize:[46,58]});e.geoObjects.add(t).add(i).add(n).add(o).add(a).add(r),e.controls.remove("searchControl"),e.controls.remove("fullscreenControl"),e.controls.remove("trafficControl"),e.controls.remove("typeSelector"),e.behaviors.disable("scrollZoom")});var video=document.querySelector(".player__video"),playBigBtn=document.querySelector(".player__btn"),playMiniBtn=document.querySelector(".player__play"),durationPointer=document.querySelector(".player__timeline-point");video.width=660,video.height=370,$(window).on("load",function(){960<$(document).width()&&($(".player__video").attr("width","660"),$(".player__video").attr("height","370")),$(document).width()<960&&($(".player__video").attr("width","720"),$(".player__video").attr("height","408")),$(document).width()<640&&($(".player__video").attr("width","460"),$(".player__video").attr("height","255"))}),$(window).resize(function(){960<$(document).width()&&($(".player__video").attr("width","660"),$(".player__video").attr("height","370")),$(document).width()<960&&($(".player__video").attr("width","720"),$(".player__video").attr("height","408")),$(document).width()<640&&($(".player__video").attr("width","460"),$(".player__video").attr("height","255"))}),playBigBtn.addEventListener("click",function(){video.paused?(video.play(),playBigBtn.style.opacity="0"):(video.pause(),playBigBtn.style.opacity=".9")},!1),playMiniBtn.addEventListener("click",function(){video.paused?(video.play(),playBigBtn.style.opacity="0"):(video.pause(),playBigBtn.style.opacity=".9")},!1),video.addEventListener("play",function(){"undefined"!=typeof interval&&clearInterval(interval),interval=setInterval(function(){var e=video.currentTime/video.duration*100;durationPointer.style.left=e+"%"},500)}),$(".player__timeline").on("click",function(e){var t=$(e.currentTarget),i=(e.pageX-t.offset().left)/t.width()*100,n=video.duration/100*i;video.currentTime=n,durationPointer.style.left=i+"%"});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaGFtYnVyZ2VyTGluayIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhhbWJ1cmdlckNsb3NlIiwiaGFtYnVyZ2VyTWVudSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsImRpc3BsYXkiLCIkIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsIm9uIiwiY3NzIiwiZHJvcGRvd25MaW5rIiwic2xpZGVyRHJvcGRvd24iLCJlIiwicHJldmVudERlZmF1bHQiLCJsZWZ0Iiwib3BhY2l0eSIsImJhY2tncm91bmRDb2xvciIsInJlYWR5IiwibWVudUNsb3NlIiwibWVudUl0ZW0iLCJtZW51IiwibWVudVRhcmdldCIsInRoaXMiLCJjbG9zZXN0IiwidG9nZ2xlQ2xhc3MiLCJub3QiLCJldmVudCIsInRhcmdldCIsImkiLCJsZW5ndGgiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0ZWFtSXRlbSIsInRlYW0iLCJ0ZWFtVGFyZ2V0IiwiZGVsUGhvbmUiLCJpc0RpZ2l0IiwiaXNEYXNoIiwiaXNDb250cm9sIiwiaXNCYWNrIiwia2V5IiwiZGVsRm9ybSIsInNlbmRCdG4iLCJ2YWxpZGF0ZUZvcm0iLCJmb3JtIiwidmFsaWQiLCJ2YWxpZGF0ZUZpZWxkIiwiZWxlbWVudHMiLCJuYW1lIiwicGhvbmUiLCJzdHJlZXQiLCJob3VzZSIsImNvcnAiLCJhcHBhcnQiLCJmbG9vciIsImNvbW1lbnQiLCJmaWVsZCIsIm5leHRFbGVtZW50U2libGluZyIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjaGVja1ZhbGlkaXR5IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsIm1vZGFsTWVzc2FnZSIsIm1vZGFsQnRuIiwibW9kYWxUZXh0IiwiYXBwZW5kIiwidmFsdWUiLCJib2R5Iiwib3ZlcmZsb3ciLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsIm9wZW4iLCJzZW5kIiwic3RhdHVzIiwiZGlzYWJsZWQiLCJzZXRUaW1lb3V0IiwicmV2QnRuIiwicG9wQ2xvc2UiLCJwb3B1cCIsImFuaW1hdGUiLCJmaXJzdCIsInJldlRpdGxlIiwidGV4dCIsInJldkRlc2MiLCJsYXN0IiwiZXEiLCJwcmV2IiwibmV4dCIsInNsaWRlckxpc3QiLCJzbGlkZXJDb250ZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIndpZHRoIiwic3RlcCIsIm1pblJpZ2h0IiwibWF4UmlnaHQiLCJjdXJyZW50UmlnaHQiLCJyaWdodCIsInNlY3Rpb25zIiwiaW5TY3JvbGwiLCJwZXJmb3JtVHJhbnNpdGlvbiIsInNlY3Rpb25FcSIsInBvc2l0aW9uIiwic2libGluZ3MiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJzY3JvbGxUb1NlY3Rpb24iLCJkaXJlY3Rpb24iLCJoYXNDbGFzcyIsImFjdGl2ZVNlY3Rpb24iLCJmaWx0ZXIiLCJuZXh0U2VjdGlvbiIsInByZXZTZWN0aW9uIiwiaW5kZXgiLCJ3aW5kb3ciLCJkZWx0YVkiLCJvcmlnaW5hbEV2ZW50IiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwia2V5Q29kZSIsImN1cnJlbnRUYXJnZXQiLCJhdHRyIiwic3dpcGUiLCJ5bWFwcyIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiem9vbSIsInNlYXJjaENvbnRyb2xQcm92aWRlciIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiZ2V0Q2VudGVyIiwiaGludENvbnRlbnQiLCJpY29uTGF5b3V0IiwiaWNvbkltYWdlSHJlZiIsImljb25JbWFnZVNpemUiLCJteVBsYWNlbWFyazIiLCJteVBsYWNlbWFyazMiLCJteVBsYWNlbWFyazQiLCJteVBsYWNlbWFyazUiLCJteVBsYWNlbWFyazYiLCJnZW9PYmplY3RzIiwiYWRkIiwiY29udHJvbHMiLCJiZWhhdmlvcnMiLCJkaXNhYmxlIiwidmlkZW8iLCJwbGF5QmlnQnRuIiwicGxheU1pbmlCdG4iLCJkdXJhdGlvblBvaW50ZXIiLCJoZWlnaHQiLCJyZXNpemUiLCJwYXVzZWQiLCJwbGF5IiwicGF1c2UiLCJpbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInZpZFBvaW50IiwiY3VycmVudFRpbWUiLCJkdXJhdGlvbiIsImJhciIsImJ0blBvc2l0aW9uUGVyY2VudCIsInBhZ2VYIiwib2Zmc2V0IiwibmV3UGxheWVyVGltZVNlYyJdLCJtYXBwaW5ncyI6ImFBRUEsSUFBQUEsY0FBQUMsU0FBQUMsY0FBQSxvQkFDQUMsZUFBQUYsU0FBQUMsY0FBQSxxQkFDQUUsY0FBQUgsU0FBQUMsY0FBQSxjQUVBRixjQUFBSyxpQkFBQSxRQUFBLFdBQ0FELGNBQUFFLE1BQUFDLFFBQUEsT0FDQUMsRUFBQSxjQUFBQyxTQUFBLHVCQUVBTixlQUFBRSxpQkFBQSxRQUFBLFdBQ0FELGNBQUFFLE1BQUFDLFFBQUEsT0FDQUMsRUFBQSxjQUFBRSxZQUFBLHVCQUdBRixFQUFBLFNBQUFHLEdBQUEsUUFBQSxXQUNBSCxFQUFBLGNBQUFJLElBQUEsVUFBQSxRQUNBSixFQUFBLGNBQUFFLFlBQUEsdUJBS0EsSUFBQUcsYUFBQVosU0FBQUMsY0FBQSxtQkFDQVksZUFBQWIsU0FBQUMsY0FBQSxxQkFFQVcsYUFBQVIsaUJBQUEsUUFBQSxTQUFBVSxHQUNBQSxFQUFBQyxtQkFHQUgsYUFBQVIsaUJBQUEsWUFBQSxTQUFBVSxHQUNBRCxlQUFBUixNQUFBVyxLQUFBLE9BQ0FILGVBQUFSLE1BQUFZLFFBQUEsSUFDQUwsYUFBQVAsTUFBQWEsZ0JBQUEsWUFHQU4sYUFBQVIsaUJBQUEsV0FBQSxTQUFBVSxHQUNBRCxlQUFBUixNQUFBVyxLQUFBLFNBQ0FILGVBQUFSLE1BQUFZLFFBQUEsSUFDQUwsYUFBQVAsTUFBQWEsZ0JBQUEsWUFLQVgsRUFBQVAsVUFBQW1CLE1BQUEsV0FFQSxJQUFBQyxFQUFBYixFQUFBLGdCQUNBYyxFQUFBZCxFQUFBLGVBQ0FlLEVBQUFmLEVBQUEsU0FDQWdCLEVBQUFoQixFQUFBLGNBRUFnQixFQUFBYixHQUFBLFFBQUEsU0FBQUksR0FDQUEsRUFBQUMsaUJBQ0FSLEVBQUFpQixNQUFBQyxR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QUE3SixFQUFBTyxFQUFBNkcsZUFFQTBDLEdBREF2SixFQUFBd0osTUFBQUYsRUFBQUcsU0FBQXZKLE1BQ0FvSixFQUFBckUsUUFBQSxJQUNBeUUsRUFBQW5CLE1BQUFjLFNBQUEsSUFBQUUsRUFFQWhCLE1BQUFhLFlBQUFNLEVBRUFoQixnQkFBQW5KLE1BQUFXLEtBQUFxSixFQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9IQU1CVVJHRVIgXHJcblxyXG5jb25zdCBoYW1idXJnZXJMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcl9fbGluaycpO1xyXG5jb25zdCBoYW1idXJnZXJDbG9zZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oYW1idXJnZXJfX2Nsb3NlJyk7XHJcbnZhciBoYW1idXJnZXJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhhbWJ1cmdlcicpO1xyXG5cclxuaGFtYnVyZ2VyTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgaGFtYnVyZ2VyTWVudS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAkKCcuaGFtYnVyZ2VyJykuYWRkQ2xhc3MoJ2hhbWJ1cmdlcl9fYWN0aXZlJyk7XHJcbn0pO1xyXG5oYW1idXJnZXJDbG9zZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgaGFtYnVyZ2VyTWVudS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAkKCcuaGFtYnVyZ2VyJykucmVtb3ZlQ2xhc3MoJ2hhbWJ1cmdlcl9fYWN0aXZlJyk7XHJcbn0pO1xyXG5cclxuJCgnLmhhbWInKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICQoJy5oYW1idXJnZXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgJCgnLmhhbWJ1cmdlcicpLnJlbW92ZUNsYXNzKCdoYW1idXJnZXJfX2FjdGl2ZScpO1xyXG59KTtcclxuXHJcbi8vU0xJREVSIERST1BET1dOIFxyXG5cclxuY29uc3QgZHJvcGRvd25MaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fcGljLXVwJyk7XHJcbmNvbnN0IHNsaWRlckRyb3Bkb3duID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fZHJvcGRvd24nKTtcclxuXHJcbmRyb3Bkb3duTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxufSk7XHJcblxyXG5kcm9wZG93bkxpbmsuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24oZSkge1xyXG4gICAgc2xpZGVyRHJvcGRvd24uc3R5bGUubGVmdCA9IFwiMTAwJVwiO1xyXG4gICAgc2xpZGVyRHJvcGRvd24uc3R5bGUub3BhY2l0eSA9IFwiMVwiO1xyXG4gICAgZHJvcGRvd25MaW5rLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2UzNTAyOFwiO1xyXG59KTtcclxuXHJcbmRyb3Bkb3duTGluay5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgIHNsaWRlckRyb3Bkb3duLnN0eWxlLmxlZnQgPSBcIjk5OTlweFwiO1xyXG4gICAgc2xpZGVyRHJvcGRvd24uc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG4gICAgZHJvcGRvd25MaW5rLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2YwOGMzM1wiO1xyXG59KTtcclxuXHJcbi8vTUVOVSBBQ0NPUkRcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBsZXQgbWVudUNsb3NlID0gJCgnLm1lbnVfX2Nsb3NlJyk7XHJcbiAgICBsZXQgbWVudUl0ZW0gPSAkKCcubWVudV9faXRlbScpO1xyXG4gICAgbGV0IG1lbnUgPSAkKCcubWVudScpO1xyXG4gICAgbGV0IG1lbnVUYXJnZXQgPSAkKCcubWVudV9fcGljJyk7XHJcblxyXG4gICAgbWVudVRhcmdldC5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QobWVudUl0ZW0pLnRvZ2dsZUNsYXNzKCdtZW51X19pdGVtLS1hY3RpdmUnKTtcclxuICAgICAgICBtZW51VGFyZ2V0Lm5vdCh0aGlzKS5jbG9zZXN0KG1lbnVJdGVtKS5yZW1vdmVDbGFzcygnbWVudV9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtZW51Q2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KG1lbnVJdGVtKS5yZW1vdmVDbGFzcygnbWVudV9faXRlbS0tYWN0aXZlJyk7ICAgIFxyXG4gICAgfSk7XHJcblxyXG4gICAgbWVudS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgaWYgKCEgKHRhcmdldC5jbG9zZXN0ICgnLm1lbnVfX2FjY29yZGVvbicpKSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVJdGVtLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBtZW51SXRlbVtpXS5jbGFzc0xpc3QucmVtb3ZlICgnbWVudV9faXRlbS0tYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG4vL1RFQU0gQUNDT1JEXHJcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgbGV0IHRlYW1JdGVtID0gJCgnLnRlYW1fX2l0ZW0nKTtcclxuICAgIGxldCB0ZWFtID0gJCgnLnRlYW0nKTtcclxuICAgIGxldCB0ZWFtVGFyZ2V0ID0gJCgnLnRlYW1fX2xpbmsnKTtcclxuXHJcbiAgICB0ZWFtVGFyZ2V0Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCh0ZWFtSXRlbSkudG9nZ2xlQ2xhc3MoJ3RlYW1fX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgIHRlYW1UYXJnZXQubm90KHRoaXMpLmNsb3Nlc3QodGVhbUl0ZW0pLnJlbW92ZUNsYXNzKCd0ZWFtX19pdGVtLS1hY3RpdmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRlYW0ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgIGlmICghICh0YXJnZXQuY2xvc2VzdCAoJy50ZWFtX19hY2NvcmRlb24nKSkpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZWFtSXRlbS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGVhbUl0ZW1baV0uY2xhc3NMaXN0LnJlbW92ZSAoJ3RlYW1fX2l0ZW0tLWFjdGl2ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLy/QntCi0J/QoNCQ0JLQmtCQINCk0J7QoNCc0KsgXHJcblxyXG5jb25zdCBkZWxQaG9uZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZWxpdmVyeV9fcGhvbmUnKTtcclxuXHJcbmRlbFBob25lLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgbGV0IGlzRGlnaXQgPSBmYWxzZTtcclxuICAgIGxldCBpc0Rhc2ggPSBmYWxzZTtcclxuICAgIGxldCBpc0NvbnRyb2wgPSBmYWxzZTtcclxuICAgIGxldCBpc0JhY2sgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoZXZlbnQua2V5ID49IDAgfHwgZXZlbnQua2V5IDw9IDkpIHtcclxuICAgICAgICBpc0RpZ2l0ID0gdHJ1ZTtcclxuICAgIH0gXHJcbiAgICBpZiAoZXZlbnQua2V5ID09ICctJykge1xyXG4gICAgICAgIGlzRGFzaCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQua2V5ID09ICdBcnJvd0xlZnQnIHx8IGV2ZW50LmtleSA9PSAnQXJyb3dSaWdodCcpIHtcclxuICAgICAgICBpc0NvbnRyb2wgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LmtleSA9PSAnQmFja3NwYWNlJykge1xyXG4gICAgICAgIGlzQmFjayA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0RpZ2l0ICYmICFpc0Rhc2ggJiYgIWlzQ29udHJvbCAmJiAhaXNCYWNrKSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBkZWxGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlbGl2ZXJ5X19jb250ZW50JyksXHJcbiAgICBzZW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRlbGl2ZXJ5X19idXR0b24nKTtcclxuXHJcbnNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAodmFsaWRhdGVGb3JtKGRlbEZvcm0pKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbE1lc3NhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwnKTtcclxuICAgICAgICAgICAgY29uc3QgbW9kYWxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2J1dHRvbicpO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3RleHQnKTtcclxuXHJcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIGRlbEZvcm0uZWxlbWVudHMubmFtZS52YWx1ZSk7XHJcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGhvbmUnLCBkZWxGb3JtLmVsZW1lbnRzLnBob25lLnZhbHVlKTtcclxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdjb21tZW50JywgZGVsRm9ybS5lbGVtZW50cy5jb21tZW50LnZhbHVlKTtcclxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0bycsICdtYWlsQG1haWwuY29tJyk7XHJcblxyXG4gICAgICAgICAgICBtb2RhbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgbW9kYWxNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcbiAgICAgICAgICAgICAgICAkKCcubW9kYWwnKS5yZW1vdmVDbGFzcygnbW9kYWxfX2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2pzb24nO1xyXG4gICAgICAgICAgICB4aHIub3BlbignUE9TVCcsICdodHRwczovL3dlYmRldi1hcGkubG9mdHNjaG9vbC5jb20vc2VuZG1haWwnKTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoZm9ybURhdGEpO1xyXG4gICAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHhoci5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbE1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsVGV4dC50ZXh0Q29udGVudCA9ICfQodC+0L7QsdGJ0LXQvdC40LUg0L7RgtC/0YDQsNCy0LvQtdC90L4nO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbmRCdG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5tb2RhbCcpLmFkZENsYXNzKCdtb2RhbF9fYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxUZXh0LnRleHRDb250ZW50ID0gJ9Cf0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5tb2RhbCcpLmFkZENsYXNzKCdtb2RhbF9fYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sMTAwMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVGb3JtKGZvcm0pIHtcclxuICAgIGxldCB2YWxpZCA9IHRydWU7XHJcblxyXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMubmFtZSkpIHtcclxuICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMucGhvbmUpKSB7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRhdGVGaWVsZChmb3JtLmVsZW1lbnRzLnN0cmVldCkpIHtcclxuICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMuaG91c2UpKSB7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRhdGVGaWVsZChmb3JtLmVsZW1lbnRzLmNvcnApKSB7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRhdGVGaWVsZChmb3JtLmVsZW1lbnRzLmFwcGFydCkpIHtcclxuICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKCF2YWxpZGF0ZUZpZWxkKGZvcm0uZWxlbWVudHMuZmxvb3IpKSB7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICghdmFsaWRhdGVGaWVsZChmb3JtLmVsZW1lbnRzLmNvbW1lbnQpKSB7XHJcbiAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdmFsaWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlRmllbGQoZmllbGQpIHtcclxuICAgIGZpZWxkLm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudCA9IGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgcmV0dXJuIGZpZWxkLmNoZWNrVmFsaWRpdHkoKTtcclxufVxyXG5cclxuLy9SRVZJRVdTIFBPUFVQXHJcblxyXG5jb25zdCByZXZCdG4gPSAkKCcucmV2aWV3c19fYnV0dG9uJyk7XHJcbmNvbnN0IHBvcENsb3NlID0gJCgnLnBvcHVwX19jbG9zZScpO1xyXG5jb25zdCBwb3B1cCA9ICQoJy5wb3B1cCcpO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoKCkgID0+IHtcclxuXHJcbiAgICBwb3BDbG9zZS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBwb3B1cC5hbmltYXRlKHtvcGFjaXR5OiBcIjBcIn0sIDUwMCk7XHJcblxyXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgcG9wdXAuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICB9LDUwMCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cCcpLnJlbW92ZUNsYXNzKCdwb3B1cF9fYWN0aXZlJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXZCdG4uZmlyc3QoKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgcG9wdXAuYW5pbWF0ZSh7b3BhY2l0eTogXCIuOTJcIn0sIDUwMCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9fYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIGxldCByZXZUaXRsZSA9ICQoJy5yZXZpZXdzX190aXRsZScpLmZpcnN0KCkudGV4dCgpOyBcclxuICAgICAgICBsZXQgcmV2RGVzYyA9ICQoJy5yZXZpZXdzX19kZXNjJykuZmlyc3QoKS50ZXh0KCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cF9fdGl0bGUnKS50ZXh0KHJldlRpdGxlKTtcclxuICAgICAgICAkKCcucG9wdXBfX2Rlc2MnKS50ZXh0KHJldkRlc2MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV2QnRuLmxhc3QoKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgcG9wdXAuYW5pbWF0ZSh7b3BhY2l0eTogXCIuOTJcIn0sIDUwMCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9fYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIGxldCByZXZUaXRsZSA9ICQoJy5yZXZpZXdzX190aXRsZScpLmxhc3QoKS50ZXh0KCk7IFxyXG4gICAgICAgIGxldCByZXZEZXNjID0gJCgnLnJldmlld3NfX2Rlc2MnKS5sYXN0KCkudGV4dCgpO1xyXG5cclxuICAgICAgICAkKCcucG9wdXBfX3RpdGxlJykudGV4dChyZXZUaXRsZSk7XHJcbiAgICAgICAgJCgnLnBvcHVwX19kZXNjJykudGV4dChyZXZEZXNjKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldkJ0bi5lcSgxKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgcG9wdXAuYW5pbWF0ZSh7b3BhY2l0eTogXCIuOTJcIn0sIDUwMCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9fYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIGxldCByZXZUaXRsZSA9ICQoJy5yZXZpZXdzX190aXRsZScpLmVxKDEpLnRleHQoKTsgXHJcbiAgICAgICAgbGV0IHJldkRlc2MgPSAkKCcucmV2aWV3c19fZGVzYycpLmVxKDEpLnRleHQoKTtcclxuXHJcbiAgICAgICAgJCgnLnBvcHVwX190aXRsZScpLnRleHQocmV2VGl0bGUpO1xyXG4gICAgICAgICQoJy5wb3B1cF9fZGVzYycpLnRleHQocmV2RGVzYyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXZCdG4uZXEoMikub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBwb3B1cC5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xyXG4gICAgICAgIHBvcHVwLmFuaW1hdGUoe29wYWNpdHk6IFwiLjkyXCJ9LCA1MDApO1xyXG5cclxuICAgICAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfX2FjdGl2ZScpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGxldCByZXZUaXRsZSA9ICQoJy5yZXZpZXdzX190aXRsZScpLmVxKDIpLnRleHQoKTsgXHJcbiAgICAgICAgbGV0IHJldkRlc2MgPSAkKCcucmV2aWV3c19fZGVzYycpLmVxKDIpLnRleHQoKTtcclxuXHJcbiAgICAgICAgJCgnLnBvcHVwX190aXRsZScpLnRleHQocmV2VGl0bGUpO1xyXG4gICAgICAgICQoJy5wb3B1cF9fZGVzYycpLnRleHQocmV2RGVzYyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXZCdG4uZXEoMykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBwb3B1cC5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xyXG4gICAgICAgIHBvcHVwLmFuaW1hdGUoe29wYWNpdHk6IFwiLjkyXCJ9LCA1MDApO1xyXG5cclxuICAgICAgICAkKCcucG9wdXAnKS5hZGRDbGFzcygncG9wdXBfX2FjdGl2ZScpO1xyXG5cclxuICAgICAgICBsZXQgcmV2VGl0bGUgPSAkKCcucmV2aWV3c19fdGl0bGUnKS5lcSgzKS50ZXh0KCk7IFxyXG4gICAgICAgIGxldCByZXZEZXNjID0gJCgnLnJldmlld3NfX2Rlc2MnKS5lcSgzKS50ZXh0KCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cF9fdGl0bGUnKS50ZXh0KHJldlRpdGxlKTtcclxuICAgICAgICAkKCcucG9wdXBfX2Rlc2MnKS50ZXh0KHJldkRlc2MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV2QnRuLmVxKDQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcG9wdXAuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcclxuICAgICAgICBwb3B1cC5hbmltYXRlKHtvcGFjaXR5OiBcIi45MlwifSwgNTAwKTtcclxuXHJcbiAgICAgICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX19hY3RpdmUnKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcmV2VGl0bGUgPSAkKCcucmV2aWV3c19fdGl0bGUnKS5lcSg0KS50ZXh0KCk7IFxyXG4gICAgICAgIGxldCByZXZEZXNjID0gJCgnLnJldmlld3NfX2Rlc2MnKS5lcSg0KS50ZXh0KCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cF9fdGl0bGUnKS50ZXh0KHJldlRpdGxlKTtcclxuICAgICAgICAkKCcucG9wdXBfX2Rlc2MnKS50ZXh0KHJldkRlc2MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV2QnRuLmVxKDUpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgcG9wdXAuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcclxuICAgICAgICBwb3B1cC5hbmltYXRlKHtvcGFjaXR5OiBcIi45MlwifSwgNTAwKTtcclxuXHJcbiAgICAgICAgJCgnLnBvcHVwJykuYWRkQ2xhc3MoJ3BvcHVwX19hY3RpdmUnKTtcclxuXHJcbiAgICAgICAgbGV0IHJldlRpdGxlID0gJCgnLnJldmlld3NfX3RpdGxlJykuZXEoNSkudGV4dCgpOyBcclxuICAgICAgICBsZXQgcmV2RGVzYyA9ICQoJy5yZXZpZXdzX19kZXNjJykuZXEoNSkudGV4dCgpO1xyXG5cclxuICAgICAgICAkKCcucG9wdXBfX3RpdGxlJykudGV4dChyZXZUaXRsZSk7XHJcbiAgICAgICAgJCgnLnBvcHVwX19kZXNjJykudGV4dChyZXZEZXNjKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldkJ0bi5lcSg2KS5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHBvcHVwLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XHJcbiAgICAgICAgcG9wdXAuYW5pbWF0ZSh7b3BhY2l0eTogXCIuOTJcIn0sIDUwMCk7XHJcblxyXG4gICAgICAgICQoJy5wb3B1cCcpLmFkZENsYXNzKCdwb3B1cF9fYWN0aXZlJyk7XHJcblxyXG4gICAgICAgIGxldCByZXZUaXRsZSA9ICQoJy5yZXZpZXdzX190aXRsZScpLmVxKDYpLnRleHQoKTsgXHJcbiAgICAgICAgbGV0IHJldkRlc2MgPSAkKCcucmV2aWV3c19fZGVzYycpLmVxKDYpLnRleHQoKTtcclxuXHJcbiAgICAgICAgJCgnLnBvcHVwX190aXRsZScpLnRleHQocmV2VGl0bGUpO1xyXG4gICAgICAgICQoJy5wb3B1cF9fZGVzYycpLnRleHQocmV2RGVzYyk7XHJcbiAgICB9KTtcclxuXHJcbn0pO1xyXG5cclxuLy9TTElERVIgXHJcblxyXG5jb25zdCBwcmV2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoJy5zbGlkZXJfX3ByZXYnKTtcclxuY29uc3QgbmV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCcuc2xpZGVyX19uZXh0Jyk7XHJcbmNvbnN0IHNsaWRlckxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICgnLnNsaWRlcl9fbGlzdCcpO1xyXG5jb25zdCBzbGlkZXJDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCAoJy5zbGlkZXJfX2NvbnRlbnQnKTtcclxuXHJcbnNsaWRlckxpc3Quc3R5bGUud2lkdGggPSBzbGlkZXJDb250ZW50Lmxlbmd0aCoxMDAgKyAnJSc7XHJcblxyXG5jb25zdCBzdGVwID0gMTAwO1xyXG5jb25zdCBtaW5SaWdodCA9IDA7XHJcbmNvbnN0IG1heFJpZ2h0ID0gc3RlcCAqIChzbGlkZXJDb250ZW50Lmxlbmd0aCAtIDEpO1xyXG5sZXQgY3VycmVudFJpZ2h0ID0gMDtcclxuXHJcbnNsaWRlckxpc3Quc3R5bGUucmlnaHQgPSBjdXJyZW50UmlnaHQ7XHJcblxyXG5wcmV2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRSaWdodCA+IG1pblJpZ2h0KSB7XHJcbiAgICAgICAgY3VycmVudFJpZ2h0IC09IHN0ZXA7XHJcbiAgICAgICAgc2xpZGVyTGlzdC5zdHlsZS5yaWdodCA9IGN1cnJlbnRSaWdodCArICclJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3VycmVudFJpZ2h0ID0gbWF4UmlnaHQ7XHJcbiAgICAgICAgc2xpZGVyTGlzdC5zdHlsZS5yaWdodCA9IGN1cnJlbnRSaWdodCArICclJztcclxuICAgIH1cclxufSk7XHJcblxyXG5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRSaWdodCA8IG1heFJpZ2h0KSB7XHJcbiAgICAgICAgY3VycmVudFJpZ2h0ICs9IHN0ZXA7XHJcbiAgICAgICAgc2xpZGVyTGlzdC5zdHlsZS5yaWdodCA9IGN1cnJlbnRSaWdodCArICclJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3VycmVudFJpZ2h0ID0gbWluUmlnaHQ7XHJcbiAgICAgICAgc2xpZGVyTGlzdC5zdHlsZS5yaWdodCA9IGN1cnJlbnRSaWdodCArICclJztcclxuICAgIH1cclxufSk7XHJcblxyXG4vL09QU1xyXG5cclxuY29uc3Qgc2VjdGlvbnMgPSAkKCcuc2VjdGlvbicpO1xyXG5jb25zdCBkaXNwbGF5ID0gJCgnLm1haW5jb250ZW50Jyk7XHJcbmxldCBpblNjcm9sbCA9IGZhbHNlO1xyXG5cclxuY29uc3QgcGVyZm9ybVRyYW5zaXRpb24gPSBzZWN0aW9uRXEgPT4ge1xyXG4gICAgaWYgKGluU2Nyb2xsID09PSBmYWxzZSkge1xyXG4gICAgICAgIGluU2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHNlY3Rpb25FcSAqIC0xMDA7XHJcbiAgICBcclxuICAgICAgICBzZWN0aW9uc1xyXG4gICAgICAgICAgICAuZXEoc2VjdGlvbkVxKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBcclxuICAgICAgICBkaXNwbGF5LmNzcyh7XHJcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtwb3NpdGlvbn0lKWBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZGlzcGxheS5vbigndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaW5TY3JvbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgJCgnLnBhZ2luYXRpb25fX2l0ZW0nKS5lcShzZWN0aW9uRXEpLmFkZENsYXNzKCdwYWdpbmF0aW9uX19pdGVtLS1hY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdwYWdpbmF0aW9uX19pdGVtLS1hY3RpdmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IHNjcm9sbFRvU2VjdGlvbiA9IGRpcmVjdGlvbiA9PiB7XHJcblxyXG4gICAgaWYgKCAkKCcuaGFtYnVyZ2VyJykuaGFzQ2xhc3MoJ2hhbWJ1cmdlcl9fYWN0aXZlJykgKSByZXR1cm47XHJcbiAgICBpZiAoICQoJy5tb2RhbCcpLmhhc0NsYXNzKCdtb2RhbF9fYWN0aXZlJykgKSByZXR1cm47XHJcbiAgICBpZiAoICQoJy5wb3B1cCcpLmhhc0NsYXNzKCdwb3B1cF9fYWN0aXZlJykgKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgYWN0aXZlU2VjdGlvbiA9IHNlY3Rpb25zLmZpbHRlcignLmFjdGl2ZScpO1xyXG4gICAgY29uc3QgbmV4dFNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLm5leHQoKTtcclxuICAgIGNvbnN0IHByZXZTZWN0aW9uID0gYWN0aXZlU2VjdGlvbi5wcmV2KCk7XHJcblxyXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnICYmIG5leHRTZWN0aW9uLmxlbmd0aCkge1xyXG4gICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKG5leHRTZWN0aW9uLmluZGV4KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaXJlY3Rpb24gPT09ICdwcmV2JyAmJiBwcmV2U2VjdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICBwZXJmb3JtVHJhbnNpdGlvbihwcmV2U2VjdGlvbi5pbmRleCgpKTtcclxuICAgIH1cclxuXHJcbn07XHJcblxyXG4kKHdpbmRvdykub24oJ3doZWVsJywgZSA9PiB7XHJcbiAgICBjb25zdCBkZWx0YVkgPSBlLm9yaWdpbmFsRXZlbnQuZGVsdGFZO1xyXG4gICAgXHJcbiAgICBpZiAoZGVsdGFZID4gMCkge1xyXG4gICAgICAgIHNjcm9sbFRvU2VjdGlvbignbmV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgc2Nyb2xsVG9TZWN0aW9uKCdwcmV2Jyk7XHJcbiAgICB9XHJcblxyXG59KTtcclxuXHJcbiQod2luZG93KS5vbigna2V5ZG93bicsIGUgPT4ge1xyXG4gICAgY29uc3QgdGFnTmFtZSA9IGUudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcclxuICAgIFxyXG4gICAgaWYgKHRhZ05hbWUgIT0gJ2lucHV0JyAmJiB0YWdOYW1lICE9ICd0ZXh0YXJlYScpIHtcclxuICAgICAgICBzd2l0Y2goZS5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgMzg6XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxUb1NlY3Rpb24oJ3ByZXYnKTtcclxuICAgICAgICAgICAgY2FzZSA0MDpcclxuICAgICAgICAgICAgICAgIHNjcm9sbFRvU2VjdGlvbignbmV4dCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybjtcclxufSk7XHJcblxyXG4kKCdbZGF0YS1zY3JvbGwtdG9dJykub24oJ2NsaWNrJywgZSA9PiB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcclxuICAgIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtc2Nyb2xsLXRvJyk7XHJcbiAgICBoYW1idXJnZXJNZW51LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XHJcblxyXG4gICAgcGVyZm9ybVRyYW5zaXRpb24odGFyZ2V0KTtcclxufSk7XHJcblxyXG5pZiAoJChkb2N1bWVudCkud2lkdGgoKSA8PSA0NjApIHtcclxuXHQkKCdib2R5Jykuc3dpcGUoe1xyXG5cdFx0c3dpcGU6IGZ1bmN0aW9uKFxyXG5cdFx0XHRldmVudCxcclxuXHRcdFx0ZGlyZWN0aW9uLFxyXG5cdFx0XHRkaXN0YW5jZSxcclxuXHRcdFx0ZHVyYXRpb24sXHJcblx0XHRcdGZpbmdlckNvdW50LFxyXG5cdFx0XHRmaW5nZXJEYXRhXHJcblx0XHRcdCkge1xyXG5cdFx0XHRjb25zdCBzY3JvbGxEaXJlY3Rpb25zID0gZGlyZWN0aW9uID09PSAndXAnID8gJ25leHQnIDogJ3ByZXYnO1xyXG5cdFx0XHRzY3JvbGxUb1NlY3Rpb24oc2Nyb2xsRGlyZWN0aW9ucyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG59XHJcblxyXG4vL01BUFxyXG5cclxueW1hcHMucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcCgnbWFwQXBpJywge1xyXG4gICAgICAgICAgICBjZW50ZXI6IFs1OS45MzEwMjUsIDMwLjM2MDc5Nl0sXHJcbiAgICAgICAgICAgIHpvb206IDEzXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBzZWFyY2hDb250cm9sUHJvdmlkZXI6ICd5YW5kZXgjc2VhcmNoJ1xyXG4gICAgICAgIH0pLFxyXG5cclxuICAgICAgICBteVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsobXlNYXAuZ2V0Q2VudGVyKCksIHtcclxuICAgICAgICAgICAgaGludENvbnRlbnQ6ICfQl9C00LXRgdGMINCy0LrRg9GB0L3Ri9C1INCx0YPRgNCz0LXRgNGLJyxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJy9pbWcvc3ZnL21hcC1tYXJrZXIuc3ZnJyxcclxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzQ2LCA1OF0sXHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICAgIG15UGxhY2VtYXJrMiA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU5LjkzNDA4MywgMzAuMzMyODE2XSwge1xyXG4gICAgICAgICAgICBoaW50Q29udGVudDogJ9Cf0YDQuNGF0L7QtCDQuiDQvdCw0LwnLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnL2ltZy9zdmcvbWFwLW1hcmtlci5zdmcnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbNDYsIDU4XSxcclxuICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgbXlQbGFjZW1hcmszID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTkuOTM5OTQwLCAzMC4zNDk4OTZdLCB7XHJcbiAgICAgICAgICAgIGhpbnRDb250ZW50OiAn0JzQvNC80LwsINC/0LDQu9GM0YfQuNC60Lgg0L7QsdC70LjQttC10YjRjCEnLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnL2ltZy9zdmcvbWFwLW1hcmtlci5zdmcnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbNDYsIDU4XSxcclxuICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgbXlQbGFjZW1hcms0ID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTkuOTQ0MjkwLCAzMC4zODUxNzJdLCB7XHJcbiAgICAgICAgICAgIGhpbnRDb250ZW50OiAn0KMg0L3QsNGBINCy0LrRg9GB0L3QviEnLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnL2ltZy9zdmcvbWFwLW1hcmtlci5zdmcnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbNDYsIDU4XSxcclxuICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgbXlQbGFjZW1hcms1ID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTkuOTIxMTU4LCAzMC4zNzMwNzBdLCB7XHJcbiAgICAgICAgICAgIGhpbnRDb250ZW50OiAn0KXQvtGH0LXRiNGMINGB0L7Rh9C90YvQuSDQsdGD0YDQs9C10YA/JyxcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJy9pbWcvc3ZnL21hcC1tYXJrZXIuc3ZnJyxcclxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzQ2LCA1OF0sXHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICAgIG15UGxhY2VtYXJrNiA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU5LjkxOTc2MCwgMzAuMzM5NTY2XSwge1xyXG4gICAgICAgICAgICBoaW50Q29udGVudDogJ9Cf0YDQuNGF0L7QtNC4LCDQvNGLINCy0LrRg9GB0L3QviDQvdCw0LrQvtGA0LzQuNC8IScsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcbiAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICcvaW1nL3N2Zy9tYXAtbWFya2VyLnN2ZycsXHJcbiAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs0NiwgNThdLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG15TWFwLmdlb09iamVjdHNcclxuICAgICAgICAuYWRkKG15UGxhY2VtYXJrKVxyXG4gICAgICAgIC5hZGQobXlQbGFjZW1hcmsyKVxyXG4gICAgICAgIC5hZGQobXlQbGFjZW1hcmszKVxyXG4gICAgICAgIC5hZGQobXlQbGFjZW1hcms0KVxyXG4gICAgICAgIC5hZGQobXlQbGFjZW1hcms1KVxyXG4gICAgICAgIC5hZGQobXlQbGFjZW1hcms2KTtcclxuXHJcbiAgICBteU1hcC5jb250cm9scy5yZW1vdmUoJ3NlYXJjaENvbnRyb2wnKTtcclxuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgnZnVsbHNjcmVlbkNvbnRyb2wnKTtcclxuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHJhZmZpY0NvbnRyb2wnKTtcclxuICAgIG15TWFwLmNvbnRyb2xzLnJlbW92ZSgndHlwZVNlbGVjdG9yJyk7XHJcbiAgICBteU1hcC5iZWhhdmlvcnMuZGlzYWJsZSgnc2Nyb2xsWm9vbScpO1xyXG59KTtcclxuXHJcbi8vVklERU9QTEFZRVJcclxuXHJcbmNvbnN0IHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllcl9fdmlkZW8nKTtcclxuY29uc3QgcGxheUJpZ0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXJfX2J0bicpO1xyXG5jb25zdCBwbGF5TWluaUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGF5ZXJfX3BsYXknKTtcclxuY29uc3QgZHVyYXRpb25Qb2ludGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYXllcl9fdGltZWxpbmUtcG9pbnQnKTtcclxuXHJcbnZpZGVvLndpZHRoID0gNjYwO1xyXG52aWRlby5oZWlnaHQgPSAzNzA7XHJcblxyXG4kKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbigpIHtcclxuICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpID4gOTYwKSB7XHJcbiAgICAgICAgJCgnLnBsYXllcl9fdmlkZW8nKS5hdHRyKCd3aWR0aCcsICc2NjAnKTtcclxuICAgICAgICAkKCcucGxheWVyX192aWRlbycpLmF0dHIoJ2hlaWdodCcsICczNzAnKTtcclxuICAgIH1cclxuICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpIDwgOTYwKSB7XHJcbiAgICAgICAgJCgnLnBsYXllcl9fdmlkZW8nKS5hdHRyKCd3aWR0aCcsICc3MjAnKTtcclxuICAgICAgICAkKCcucGxheWVyX192aWRlbycpLmF0dHIoJ2hlaWdodCcsICc0MDgnKTtcclxuICAgIH1cclxuICAgIGlmICgkKGRvY3VtZW50KS53aWR0aCgpIDwgNjQwKSB7XHJcbiAgICAgICAgJCgnLnBsYXllcl9fdmlkZW8nKS5hdHRyKCd3aWR0aCcsICc0NjAnKTtcclxuICAgICAgICAkKCcucGxheWVyX192aWRlbycpLmF0dHIoJ2hlaWdodCcsICcyNTUnKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4kKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPiA5NjApIHtcclxuICAgICAgICAkKCcucGxheWVyX192aWRlbycpLmF0dHIoJ3dpZHRoJywgJzY2MCcpO1xyXG4gICAgICAgICQoJy5wbGF5ZXJfX3ZpZGVvJykuYXR0cignaGVpZ2h0JywgJzM3MCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPCA5NjApIHtcclxuICAgICAgICAkKCcucGxheWVyX192aWRlbycpLmF0dHIoJ3dpZHRoJywgJzcyMCcpO1xyXG4gICAgICAgICQoJy5wbGF5ZXJfX3ZpZGVvJykuYXR0cignaGVpZ2h0JywgJzQwOCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKCQoZG9jdW1lbnQpLndpZHRoKCkgPCA2NDApIHtcclxuICAgICAgICAkKCcucGxheWVyX192aWRlbycpLmF0dHIoJ3dpZHRoJywgJzQ2MCcpO1xyXG4gICAgICAgICQoJy5wbGF5ZXJfX3ZpZGVvJykuYXR0cignaGVpZ2h0JywgJzI1NScpO1xyXG4gICAgfVxyXG59KTtcclxuICAgIFxyXG5wbGF5QmlnQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHZpZGVvLnBhdXNlZCkge1xyXG4gICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICBwbGF5QmlnQnRuLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICBwbGF5QmlnQnRuLnN0eWxlLm9wYWNpdHkgPSBcIi45XCI7XHJcbiAgICB9XHJcbn0sIGZhbHNlKTtcclxuXHJcbnBsYXlNaW5pQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaWYgKHZpZGVvLnBhdXNlZCkge1xyXG4gICAgICAgIHZpZGVvLnBsYXkoKTtcclxuICAgICAgICBwbGF5QmlnQnRuLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmlkZW8ucGF1c2UoKTtcclxuICAgICAgICBwbGF5QmlnQnRuLnN0eWxlLm9wYWNpdHkgPSBcIi45XCI7XHJcbiAgICB9XHJcbn0sIGZhbHNlKTtcclxuXHJcbnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BsYXknLCBmdW5jdGlvbiAoKSB7XHJcblxyXG5cdGlmICh0eXBlb2YgaW50ZXJ2YWwgIT0gJ3VuZGVmaW5lZCcpIHtcclxuXHRcdGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xyXG5cdH1cclxuXHJcblx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCAoKCkgPT4ge1xyXG5cclxuXHRsZXQgdmlkUG9pbnQgPSAodmlkZW8uY3VycmVudFRpbWUvdmlkZW8uZHVyYXRpb24pKjEwMDtcclxuXHJcblx0ZHVyYXRpb25Qb2ludGVyLnN0eWxlLmxlZnQgPSB2aWRQb2ludCArICclJztcclxuXHR9LCA1MDApO1xyXG59KTtcclxuXHJcbiQoJy5wbGF5ZXJfX3RpbWVsaW5lJykub24oJ2NsaWNrJywgZSA9PiB7XHJcblx0Y29uc3QgYmFyID0gJChlLmN1cnJlbnRUYXJnZXQpO1xyXG5cdGNvbnN0IG5ld0J0blBvc2l0aW9uID0gZS5wYWdlWCAtIGJhci5vZmZzZXQoKS5sZWZ0O1xyXG5cdGNvbnN0IGJ0blBvc2l0aW9uUGVyY2VudCA9IChuZXdCdG5Qb3NpdGlvbi9iYXIud2lkdGgoKSkgKiAxMDA7XHJcblx0Y29uc3QgbmV3UGxheWVyVGltZVNlYyA9ICh2aWRlby5kdXJhdGlvbi8xMDApICogYnRuUG9zaXRpb25QZXJjZW50O1xyXG5cclxuXHR2aWRlby5jdXJyZW50VGltZSA9IG5ld1BsYXllclRpbWVTZWM7XHJcblxyXG5cdGR1cmF0aW9uUG9pbnRlci5zdHlsZS5sZWZ0ID0gYnRuUG9zaXRpb25QZXJjZW50ICsgJyUnO1xyXG59KTtcclxuIl19
